# 幻想異郷

## コーディング規則

### インターフェース関連

できる限り、自作オブジェクトのインスタンスは、インターフェースを介す。

上位存在は`ICtr`インターフェースを、下位存在は`IRef`インターフェースを参照する。

メソッドは、必ず明示的に実装する。

プロパティは、原則明示的に実装しない。明示的に実装すると、コンストラクタで初期化できなくなるためである。

### プロパティ関連

ゲッターあるいはセッターを要求するような、`public`な変数を持つとき、これをプロパティとする。

逆に言えば、`private`な変数は、必ずフィールドとして、プロパティとしない。

### 初期化関連

すべてフィールドや自動プロパティは、変数初期化子で初期化する。

外部情報、あるいは`this`を用いる必要がある場合にのみ、コンストラクタで初期化する。

## シナリオ関連

### 概要

各日・各場所で一つのファイル。`snr.<日>.<場所>`。

中では、各時間帯における動作が記されている。

### 時間帯

```
[<開始時刻>-<終了時刻>]<強制フラグ><条件>
```

### タグ

```
#<コマンド> <引数…>
```

| コマンド | 内容 |
| ----- | ----- |
| bg <画像> <フェード時間> | 背景を<画像>にする |
| sq <色> <フェード時間> | 背景やキャラの上を<色>で覆う |
| wait <時間> | <時間>フレーム分操作不能にする |

ただし、フェード中は操作不能である。

### 会話

```
/名前/<会話…>
```

